<!-- Full Screen Search View -->
<div class="fullscreen-search" [class.page-ready]="sayfaHazir">

  <!-- Floating Header -->
  <header class="floating-header" [class.visible]="sayfaHazir">
    <div class="brand"><span class="text-blue">AnÄ±nda</span> Randevu</div>
    <nav class="actions">
      <button class="btn-theme-toggle" (click)="toggleDarkMode()" [title]="isDarkMode ? 'AydÄ±nlÄ±k Mod' : 'KaranlÄ±k Mod'">
        {{ isDarkMode ? 'â˜€ï¸' : 'ğŸŒ™' }}
      </button>
      <a class="btn-login" routerLink="/login">Ä°ÅŸletme GiriÅŸi</a>
    </nav>
  </header>

  <!-- Background Images - Mini floating images in the middle 70% area -->
  <div class="bg-images">
    <div class="bg-image bg-1" [class.animate]="sayfaHazir">
      <img src="assets/berber.png" alt="Berber">
    </div>
    <div class="bg-image bg-2" [class.animate]="sayfaHazir">
      <img src="assets/koufor.jpg" alt="KuafÃ¶r">
    </div>
    <div class="bg-image bg-3" [class.animate]="sayfaHazir">
      <img src="assets/oto.jpg" alt="Oto">
    </div>
    <div class="bg-image bg-4" [class.animate]="sayfaHazir">
      <img src="assets/Berber2.jpg" alt="Berber2">
    </div>
    <div class="bg-image bg-5" [class.animate]="sayfaHazir">
      <img src="assets/KuafÃ¶r.jpg" alt="KuafÃ¶r">
    </div>
    <div class="bg-image bg-6" [class.animate]="sayfaHazir">
      <img src="assets/KuafÃ¶r2.jpg" alt="KuafÃ¶r2">
    </div>
    <div class="bg-image bg-7" [class.animate]="sayfaHazir">
      <img src="assets/otokuafÃ¶r.jpg" alt="Oto KuafÃ¶r">
    </div>
    <div class="bg-image bg-8" [class.animate]="sayfaHazir">
      <img src="assets/otokuafÃ¶r2.jpg" alt="Oto KuafÃ¶r2">
    </div>
  </div>

  <!-- Search Content -->
  <div class="search-content" [class.animate]="sayfaHazir">
    <h1 class="main-title">
      <span class="title-line">Randevunuzu</span>
      <span class="title-line highlight">Hemen AlÄ±n</span>
    </h1>

    <p class="subtitle">Åehrinizin en iyi iÅŸletmelerini keÅŸfedin</p>

    <div class="search-container">
      <div class="search-box">
        <svg class="search-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="11" cy="11" r="8"></circle>
          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
        <input type="text" class="search-input" placeholder="KuafÃ¶r, berber, gÃ¼zellik salonu..." [(ngModel)]="aramaMetni" (keyup.enter)="ara()">
        <button class="search-btn" (click)="ara()">
          <span>Ara</span>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="5" y1="12" x2="19" y2="12"></line>
            <polyline points="12 5 19 12 12 19"></polyline>
          </svg>
        </button>
      </div>

      <div class="quick-categories">
        <button class="category-chip" (click)="aramaMetni='KuafÃ¶r'; ara()">
          <span class="chip-icon">âœ‚ï¸</span>
          <span>KuafÃ¶r</span>
        </button>
        <button class="category-chip" (click)="aramaMetni='Berber'; ara()">
          <span class="chip-icon">ğŸ’ˆ</span>
          <span>Berber</span>
        </button>
        <button class="category-chip" (click)="aramaMetni='GÃ¼zellik'; ara()">
          <span class="chip-icon">ğŸ’…</span>
          <span>GÃ¼zellik</span>
        </button>
        <button class="category-chip" (click)="aramaMetni='Oto'; ara()">
          <span class="chip-icon">ğŸš—</span>
          <span>Oto</span>
        </button>
      </div>
    </div>
  </div>
<!-- ...existing code... -->
</div>

<!-- SaÄŸ alt sabit Randevu Sorgula butonu -->
<a class="btn-randevu-sorgula" routerLink="/randevu-sorgula">Randevu Sorgula</a>

<!-- PopÃ¼ler Ä°ÅŸletmeler BaÅŸlÄ±k BÃ¶lÃ¼mÃ¼ -->
<section class="popular-header">
  <h2 class="popular-title">PopÃ¼ler Ä°ÅŸletmeler</h2>
  <p class="popular-subtitle">Favori Ä°ÅŸletmeni Bul</p>
</section>

<!-- Results Section - Her zaman gÃ¶rÃ¼nÃ¼r -->
<section class="results-section visible" id="results-section">
  <div class="results-content">
    <div class="loading-state" *ngIf="yukleniyor">
      <div class="loader-ring"></div>
      <span>Ä°ÅŸletmeler yÃ¼kleniyor...</span>
    </div>

    <div class="empty-state" *ngIf="!yukleniyor && filtrelenmisIsletmeler.length === 0">
      <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
      <h3>SonuÃ§ BulunamadÄ±</h3>
      <p>FarklÄ± anahtar kelimeler deneyebilirsiniz</p>
    </div>

    <div class="results-grid" *ngIf="!yukleniyor && filtrelenmisIsletmeler.length > 0">
      <div class="isletme-card" *ngFor="let isletme of gosterilecekIsletmeler; let i = index" [style.animation-delay]="i * 0.05 + 's'">
        <div class="card-image">
          <img [src]="getFotoUrl(isletme)" [alt]="isletme.isim || isletme.ad">
          <div class="card-overlay">
            <span class="kategori-badge" *ngIf="isletme.kategori">{{ isletme.kategori }}</span>
          </div>
        </div>
        <div class="card-body">
          <h3 class="card-title">{{ isletme.isim || isletme.ad }}</h3>
          <div class="card-info">
            <div class="info-row" *ngIf="isletme.adres">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                <circle cx="12" cy="10" r="3"/>
              </svg>
              <span>{{ isletme.adres }}</span>
            </div>
            <div class="info-row" *ngIf="isletme.puan">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
              </svg>
              <span>{{ isletme.puan }}</span>
            </div>
          </div>
          <div class="card-actions">
            <button class="btn-detail" (click)="detayGoster(isletme)">Detaylar</button>
            <button class="btn-appointment" (click)="randevuAl(isletme)">Randevu Al</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Pagination -->
    <div class="pagination" *ngIf="!yukleniyor && filtrelenmisIsletmeler.length > sayfaBasinaIsletme">
      <button class="pagination-btn prev" (click)="oncekiSayfa()" [disabled]="mevcutSayfa === 1">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="15 18 9 12 15 6"></polyline>
        </svg>
        <span>Ã–nceki Sayfa</span>
      </button>

      <div class="pagination-info">
        <span class="current-page">{{ mevcutSayfa }}</span>
        <span class="page-separator">/</span>
        <span class="total-pages">{{ toplamSayfa }}</span>
      </div>

      <button class="pagination-btn next" (click)="sonrakiSayfa()" [disabled]="mevcutSayfa === toplamSayfa">
        <span>Sonraki Sayfa</span>
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </button>
    </div>
  </div>
</section>

<!-- Modal -->
<div class="modal-overlay" *ngIf="modalAcik" (click)="modalKapat()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <button class="modal-close" (click)="modalKapat()">âœ•</button>
    <div class="modal-body" *ngIf="seciliIsletme">
      <div class="modal-header-img">
        <img [src]="getFotoUrl(seciliIsletme)" [alt]="seciliIsletme.isim || seciliIsletme.ad">
      </div>
      <div class="modal-info">
        <h2>{{ seciliIsletme.isim || seciliIsletme.ad }}</h2>
        <div class="info-grid">
          <div class="info-item" *ngIf="seciliIsletme.kategori">
            <span class="info-label">Kategori</span>
            <span class="info-value">{{ seciliIsletme.kategori }}</span>
          </div>
          <div class="info-item" *ngIf="seciliIsletme.telefon">
            <span class="info-label">Telefon</span>
            <span class="info-value">{{ seciliIsletme.telefon }}</span>
          </div>
          <div class="info-item" *ngIf="seciliIsletme.adres">
            <span class="info-label">Adres</span>
            <span class="info-value">{{ seciliIsletme.adres }}</span>
          </div>
          <div class="info-item" *ngIf="seciliIsletme.puan">
            <span class="info-label">Puan</span>
            <span class="info-value">â­ {{ seciliIsletme.puan }}</span>
          </div>
        </div>
      </div>
      <div class="modal-calisanlar">
        <h3>Ã‡alÄ±ÅŸanlar</h3>
        <div class="calisanlar-loading" *ngIf="calisanlarYukleniyor">
          <span>YÃ¼kleniyor...</span>
        </div>
        <div class="calisanlar-list" *ngIf="!calisanlarYukleniyor">
          <div class="calisan-item" *ngFor="let calisan of seciliIsletmeCalisanlar">
            <div class="calisan-avatar">ğŸ‘¤</div>
            <div class="calisan-info">
              <strong>{{ calisan.ad }} {{ calisan.soyad }}</strong>
              <span>{{ calisan.baslangic_saati }} - {{ calisan.bitis_saati }}</span>
            </div>
          </div>
          <p class="empty-calisanlar" *ngIf="seciliIsletmeCalisanlar.length === 0">HenÃ¼z Ã§alÄ±ÅŸan eklenmemiÅŸ.</p>
        </div>
      </div>
      <div class="modal-actions">
        <button class="btn-randevu-modal" (click)="randevuAl(seciliIsletme)">Randevu Al</button>
      </div>
    </div>
  </div>
</div>
